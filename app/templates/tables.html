{% extends "layout.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% block body %}
<head>
    <title>Tablas </title>


    <div class="variables">
            <form role="form" class="form-inline" action="{{ url_for('show_tables') }}" method=post>
                <div class="col-auto">
                    <label class="label label-default" for="exampleFormControlSelect1"> Variable 1 </label>
                    <select class="form-control" id="exampleFormControlSelect1" name = var1>
                        <option value="{{session.var1}}"> {{session.var1_pretty}}</option>
                        <option value="timestamp">Tiempo</option>
                        <option value="elevation">Altitud (msnm)</option>
                        <option value="elevation2">Altitud (google)(msnm)</option>
                        <option value="slope">Pendiente (°)</option>
                        <option value="speed">Velocidad (Km/h)</option>
                        <option value="mean_speed">Velocidad promedio (Km/h)</option>
                        <option value="mean_acc_server">Aceleración promedio (server) (m/s^2)</option>
                        <option value="odometer">Odometro (Km)</option>
                        <option value="capacity">Capacidad (Ah)</option>
                        <option value="power_kw">Potencia eléctrica (Kw)</option>
                        <option value="mec_power">Potencia efectiva (server) (Hp) </option>
                        <option value="mec_power_delta_e">Potencia efectiva (OVMS) (Hp) </option>
                        <option value="en_pot">Delta Energía potenical (J) </option>
                        <option value="net_force">Fuerza neta (N) </option>
                        <option value="freeram">free ram </option>
                        <option value="tasks">tasks number </option>
                        <option value="net_signal">network quality </option>
                        <option value="friction_force">Fuerza de fricción (N) </option>
                        <option value="run">Recorrido desde ultimo registro (m) </option>
                        <option value="soc">SOC</option>
                        <option value="soh">SOH</option>
                        <option value="batt_temp">Temperatura de batería (°C)</option>
                        <option value="ext_temp">Temperatura externa (°C)</option>
                        <option value="voltage">Voltage (V)</option>
                        <option value="current">Corriente (A)</option>
                        <option value="mean_acc">Aceleración promedio (m/s^2)</option>
                        <option value="acceleration">Aceleración motor </option>
                        <option value="throttle">Pedal de acelerador</option>
                        <option value="regen_brake">Freno regenerativo</option>
                        <option value="consumption">Consumo</option>
                        <option value="range_est">Rango estimado</option>
                        <option value="range_ideal">Rango ideal</option>
                        <option value="drivetime">Tiempo de manejo</option>
                        <option value="charge_time">Tiempo de carga </option>
                        <option value="is_charging">Esta cargando</option>
                        <option value="tpms">presion llantas (psi)</option>
                        <option value="ocv">OCV</option>
                        <option value="occupants">Ocupantes</option>
                        <option value="footbrake">Freno de pedal</option>
                        <option value="engine_temp">Temperatura de motor (°C)</option>
                    </select>
                </div>
            <div class="col-auto">
                <label class="label label-default" for="exampleFormControlSelect2"> Variable 2 </label>
                <select class="form-control" id="exampleFormControlSelect2" name = var2>
                    <option value="{{session.var2}}"> {{session.var2_pretty}}</option>
                    <option value="elevation">Altitud (msnm)</option>
                    <option value="elevation2">Altitud (google)(msnm)</option>
                    <option value="slope">Pendiente (°)</option>
                    <option value="speed">Velocidad (Km/h)</option>
                    <option value="mean_speed">Velocidad promedio (Km/h)</option>
                    <option value="mean_acc_server">Aceleración promedio (server) (m/s^2)</option>
                    <option value="user_id">Usuario</option>
                    <option value="operative_state">Estado Operativo</option>
                    <option value="odometer">Odometro (Km)</option>
                    <option value="capacity">Capacidad (Ah)</option>
                    <option value="power_kw">Potencia eléctrica (Kw)</option>
                    <option value="mec_power">Potencia efectiva (server) (Hp) </option>
                    <option value="mec_power_delta_e">Potencia efectiva (OVMS) (Hp) </option>
                    <option value="en_pot">Delta Energía potenical (J) </option>
                    <option value="net_force">Fuerza neta (N) </option>
                    <option value="freeram">free ram </option>
                    <option value="tasks">tasks number </option>
                    <option value="net_signal">network quality </option>
                    <option value="friction_force">Fuerza de fricción (N) </option>
                    <option value="run">Recorrido desde ultimo registro (m) </option>
                    <option value="soc">SOC</option>
                    <option value="soh">SOH</option>
                    <option value="batt_temp">Temperatura de batería (°C)</option>
                    <option value="ext_temp">Temperatura externa (°C)</option>
                    <option value="voltage">Voltage (V)</option>
                    <option value="current">Corriente (A)</option>
                    <option value="mean_acc">Aceleración promedio (m/s^2)</option>
                    <option value="acceleration">Aceleración motor </option>
                    <option value="throttle">Pedal de acelerador</option>
                    <option value="regen_brake">Freno regenerativo</option>
                    <option value="consumption">Consumo</option>
                    <option value="range_est">Rango estimado</option>
                    <option value="range_ideal">Rango ideal</option>
                    <option value="drivetime">Tiempo de manejo</option>
                    <option value="charge_time">Tiempo de carga </option>
                    <option value="is_charging">Esta cargando</option>
                    <option value="tpms">presion llantas (psi)</option>
                    <option value="ocv">OCV</option>
                    <option value="occupants">Ocupantes</option>
                    <option value="footbrake">Freno de pedal</option>
                    <option value="engine_temp">Temperatura de motor (°C)</option>
                </select>
            </div>
            <div class="col-auto">
                <label class="label label-default" for="exampleFormControlSelect3"> Variable 3 </label>
                <select class="form-control" id="exampleFormControlSelect3" name = var3>
                    <option value="{{session.var3}}"> {{session.var3_pretty}}</option>
                    <option value="elevation">Altitud (msnm)</option>
                    <option value="elevation2">Altitud (google)(msnm)</option>
                    <option value="slope">Pendiente (°)</option>
                    <option value="speed">Velocidad (Km/h)</option>
                    <option value="mean_speed">Velocidad promedio (Km/h)</option>
                    <option value="mean_acc_server">Aceleración promedio (server) (m/s^2)</option>
                    <option value="user_id">Usuario</option>
                    <option value="operative_state">Estado Operativo</option>
                    <option value="odometer">Odometro (Km)</option>
                    <option value="capacity">Capacidad (Ah)</option>
                    <option value="power_kw">Potencia eléctrica (Kw)</option>
                    <option value="mec_power">Potencia efectiva (server) (Hp) </option>
                    <option value="mec_power_delta_e">Potencia efectiva (OVMS) (Hp) </option>
                    <option value="en_pot">Delta Energía potenical (J) </option>
                    <option value="net_force">Fuerza neta (N) </option>
                    <option value="freeram">free ram </option>
                    <option value="tasks">tasks number </option>
                    <option value="net_signal">network quality </option>
                    <option value="friction_force">Fuerza de fricción (N) </option>
                    <option value="run">Recorrido desde ultimo registro (m) </option>
                    <option value="soc">SOC</option>
                    <option value="soh">SOH</option>
                    <option value="batt_temp">Temperatura de batería (°C)</option>
                    <option value="ext_temp">Temperatura externa (°C)</option>
                    <option value="voltage">Voltage (V)</option>
                    <option value="current">Corriente (A)</option>
                    <option value="mean_acc">Aceleración promedio (m/s^2)</option>
                    <option value="acceleration">Aceleración motor </option>
                    <option value="throttle">Pedal de acelerador</option>
                    <option value="regen_brake">Freno regenerativo</option>
                    <option value="consumption">Consumo</option>
                    <option value="range_est">Rango estimado</option>
                    <option value="range_ideal">Rango ideal</option>
                    <option value="drivetime">Tiempo de manejo</option>
                    <option value="charge_time">Tiempo de carga </option>
                    <option value="is_charging">Esta cargando</option>
                    <option value="tpms">presion llantas (psi)</option>
                    <option value="ocv">OCV</option>
                    <option value="occupants">Ocupantes</option>
                    <option value="footbrake">Freno de pedal</option>
                    <option value="engine_temp">Temperatura de motor (°C)</option>
                </select>
            </div>
            <div class="form-group">
                <label class="label label-default" for="records_input">Número de registros</label>
                <input type="number" class="form-control" id="records_input" name="records"  placeholder="# registros">
            </div>
            <script>
                document.getElementById('records_input').defaultValue = '{{ session.records }}';
            </script>

            <div class='col-sm-2'>
                <label class="label label-default" for="date"> Fecha </label>
                <div class="form-group" id = 'date'>
                    <div class='input-group date' id='datetimepicker1'>
                        <input type='text' id = 'd1_input' class="form-control" name = 'd1' />
                        <span class="input-group-addon"><span class="glyphicon glyphicon-time"></span>
                        </span>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                document.getElementById('d1_input').defaultValue = '{{ session.form_d1 }}'
                $(function() {
                   $('#datetimepicker1').datetimepicker({
                         format: 'DD/MM/YYYY'
                   });
                });
            </script>

            <div class='col-sm-2'>
                <label class="label label-default" for="hora1"> Desde </label>
                <div class="form-group" id="hora1">
                    <div class='input-group date' id='datetimepicker3'>
                        <input type='text' id = 'h1_input' class="form-control" name = 'h1'/>
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-time"></span>
                        </span>
                    </div>
                </div>
            </div>
            <script type="text/javascript">

                document.getElementById('h1_input').defaultValue = '{{ session.form_h1 }}'
                $(function () {
                    $('#datetimepicker3').datetimepicker({
                        format: 'LT'
                    });
                });
            </script>

            <div class='col-sm-2'>
                <label class="label label-default" for="hora2"> Hasta </label>
                <div class="form-group" id="hora2">
                    <div class='input-group date' id='datetimepicker4'>
                        <input type='text' id = 'h2_input' class="form-control" name = 'h2'/>
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-time"></span>
                        </span>
                    </div>
                </div>
            </div>
            <script>
                document.getElementById('h2_input').defaultValue = '{{ session.form_h2 }}';
                $(function () {
                    $('#datetimepicker4').datetimepicker({
                        format: 'LT'
                    });
                });
            </script>
            <div class="col-auto">
                <button class="btn btn-dark" type="submit">Ver</button>
            </div>

            </form>
        </div>




    <table class="table">
    <thead>
        <tr>
            <th>{{session.dataset}}</th>
        <tr>
    </thead>
    <tbody>
        {% for table in tables %}
        <tr>
            <td>{{ table|safe }}</td>
        </tr>
        {% endfor %}
    </tbody>
            {{ table|safe }}
</table>

{% endblock %}


